# MrgqPdfViewer - 제품 요구사항 문서 (PRD)

**버전:** 1.0
**작성일:** 2025-07-28

---

## 1. 개요 (Overview)

MrgqPdfViewer는 음악가, 교육자, 발표자 등을 위해 설계된 안드로이드 기반의 고성능 PDF 뷰어 애플리케이션이다. 핵심 기능인 **앙상블 모드(Ensemble Mode)**는 '지휘자(Conductor)'가 제어하는 PDF 문서를 여러 '연주자(Performer)'의 기기에서 실시간으로 동기화하여, 악보, 강의 자료, 프레젠테이션 등을 원활하게 공유하고 함께 볼 수 있는 협업 환경을 제공한다.

## 2. 목표 (Goals and Objectives)

- **실시간 페이지 동기화:** 지휘자가 넘기는 페이지를 모든 연주자의 화면에 1초 미만의 지연 시간으로 동기화하여 끊김 없는 사용자 경험을 제공한다.
- **안정적인 파일 공유:** 로컬 네트워크 내에서 안정적으로 PDF 파일을 공유하고, 다수의 사용자가 동시에 접속하여도 성능 저하 없이 파일을 다운로드할 수 있도록 한다.
- **직관적인 사용자 인터페이스:** 복잡한 설정 없이 누구나 쉽게 지휘자가 되어 세션을 시작하고, 연주자가 되어 세션에 참여할 수 있는 직관적인 UI/UX를 제공한다.
- **견고한 안정성:** 동적인 파일 목록 변경, 잦은 정렬 순서 변경, 다수 사용자 접속 등 다양한 시나리오에서도 앱이 비정상 종료되거나 오작동하지 않는 높은 안정성을 확보한다.

## 3. 대상 사용자 (Target Audience)

- **지휘자 (Conductor):** 오케스트라, 밴드, 합창단의 지휘자. 앙상블 세션을 생성하고, 악보 PDF를 공유하며, 페이지 넘김을 제어하는 주체.
- **연주자 (Performer):** 오케스트라 단원, 밴드 멤버, 합창단원. 지휘자의 세션에 참여하여 동기화된 악보를 보며 연주에 집중하는 사용자.
- **교육자 및 학생:** 강의 자료를 공유하고 함께 보며 수업을 진행하는 교사와 학생.
- **발표자 및 청중:** 프레젠테이션 자료를 공유하며 발표를 진행하는 발표자와 청중.

## 4. 핵심 기능 요구사항 (Features Requirements)

### 4.1. PDF 뷰어 기본 기능

- **고품질 렌더링:** PDF 문서를 선명하고 정확하게 렌더링한다.
- **탐색:** 스와이프, 버튼 클릭을 통해 페이지를 넘길 수 있다.
- **확대/축소:** 핀치 줌(Pinch-to-Zoom)을 통해 문서를 확대하거나 축소할 수 있다.
- **페이지 보기 모드:** 한 페이지 보기, 두 페이지 보기 모드를 지원한다.
- **오디오 피드백:** 페이지를 넘길 때 효과음을 재생하여 시각적 피드백을 강화한다. (`page_turn.wav`)

### 4.2. 파일 관리

- **로컬 파일 탐색:** 기기 내에 저장된 PDF 파일을 탐색하고 목록으로 표시한다.
- **파일 목록 정렬:** 파일 이름, 수정 날짜 등 다양한 기준으로 목록을 정렬할 수 있다.
- **웹 업로드:** PC 등 다른 기기의 웹 브라우저를 통해 앱으로 PDF 파일을 업로드할 수 있는 내장 웹 서버 기능을 제공한다.
- **파일 삭제:** 앱 내에서 불필요한 파일을 삭제할 수 있다.

### 4.3. 앙상블 모드 (Ensemble Mode)

- **세션 생성 (지휘자):**
    - 지휘자는 공유할 PDF 파일을 선택하여 앙상블 모드 세션을 시작할 수 있다.
    - 세션이 시작되면 로컬 네트워크에 세션을 브로드캐스팅하여 연주자들이 발견할 수 있도록 한다.
- **세션 참여 (연주자):**
    - 연주자는 현재 활성화된 세션을 자동으로 검색하고 목록에서 선택하여 참여할 수 있다.
    - 세션 참여 시 지휘자가 공유한 PDF 파일을 자동으로 다운로드한다.
- **실시간 페이지 동기화:**
    - 지휘자가 페이지를 넘기면, 해당 페이지 번호가 웹소켓을 통해 모든 연주자에게 즉시 전송된다.
    - 연주자의 기기는 수신한 페이지 번호로 즉시 화면을 전환한다.
    - 지휘자의 스크롤, 확대/축소 등의 제스처 또한 동기화되어야 한다. (애니메이션 동기화)

### 4.4. 보안

- **보안 통신:** 앙상블 모드의 모든 통신(웹소켓)은 WSS (WebSocket Secure)를 통해 암호화되어야 한다.
- **안전한 파일 제공:** 파일 다운로드 시 HTTPS를 사용하여 전송 중 데이터가 노출되지 않도록 한다.
- **네트워크 보안 구성:** 안드로이드의 네트워크 보안 구성을 통해 암호화되지 않은 트래픽을 허용하지 않는다.

## 5. 비기능적 요구사항 (Non-Functional Requirements)

- **성능:** 페이지 렌더링은 500ms 이내에 완료되어야 하며, 앙상블 모드 동기화 지연 시간은 500ms 미만을 목표로 한다.
- **안정성:** 앱의 Crash-Free User 비율 99.5% 이상을 목표로 한다.
- **호환성:** Android 8.0 (Oreo) 이상 버전과 호환되어야 한다.
- **사용성:** 모든 주요 기능은 3번 이하의 탭으로 접근 가능해야 한다.

## 6. 향후 고려사항 (Out of Scope / Future Considerations)

- **주석(Annotation) 기능:** PDF 위에 필기, 하이라이트 등 주석을 추가하고 이를 동기화하는 기능.
- **클라우드 연동:** Google Drive, Dropbox 등 클라우드 스토리지에서 직접 파일을 가져오는 기능.
- **크로스 플랫폼 지원:** iOS, Web 등 다른 플랫폼으로의 확장.
- **사용자 인증:** 비밀번호 등을 이용한 세션 참여 제한 기능.
